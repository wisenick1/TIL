웹 계층 개발(+변경 감지와 병합(merge))
==
> 출처 : 김영한의 [실전! 스프링 부트와 JPA 활용1 - 웹 애플리케이션 개발](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-JPA-%ED%99%9C%EC%9A%A9-1/dashboard)

변경 감지와 병합
--
준영속 엔티티 : 영속성 컨텍스트가 더이상 관리하지 않는 엔티티
    
    문제는 이걸 수정해야하는 상황이 발생한다.

이 때 선택지 2가지 - 변경 감지, 병합

- 변경 감지 - em.find를 통해 엔티티를 다시 조회, 그 후 값을 변경하면 Dirty checking을 통해 update

- 병합 - em.merge를 통해 위의 변경 감지를 한번에 다 해준다.

단, 치명적인 문제가 있는데 em.merge는 영속 엔티티의 값은 준영속 엔티티의 값으로 모두 교체한다 - 따라서 준영속 엔티티의 값에 null이 들어있다면 엔티티의 값 또한 null로 업데이트 할 수도 있다.

따라서!!!

- 무조건 변경 감지를 사용해서 엔티티를 변경하자!
