카카오 로그인 절차
==

사용자는 앱 사용자, 클라이언트는 프론트를 지칭
 1. 사용자가 카카오 로그인 클릭 
 2. 클라이언트가 카카오 로그인 페이지를 사용자에게 띄워줌 
 3. 계정 아이디 비밀번호 입력 
 4. 카카오 OAuth2에서 인가 코드를 발급해서 클라이언트에게 줌 
 5. 클라이언트가 인가 코드를 백엔드로 전달 
 6. 백엔드에서 카카오 OAuth2로 토큰 요청 
 7. 카카오에서 백엔드로 Access Token + Refresh Token을 줌 
 8. 백엔드에서 Access Token을 카카오로 보내 사용자 정보 요청 
 9. 카카오에서 백엔드로 사용자 정보를 보내줌 
 10. 백엔드에서 정보를 바탕으로 DB 조회해서 회원가입 or 로그인 
 11. 백엔드에서 JWT발급해서 클라이언트에게 넘겨줌 
 12. 그리고 앞으로 이 JWT토큰을 헤더에 넣고 클라이언트에서 백엔드로 요청이 들어옴

 이 절차를 따라 카카오 로그인이 된다.

 인가 토큰
 --
 ✅ 인가 코드(Authorization Code)

역할: “사용자가 카카오 로그인에 성공했어요”를 짧은 임시 코드로 백엔드에 알려주는 용도.

특징

수명이 매우 짧음 (보통 수십 초~1분).

직접 사용자 정보에 접근할 수 없음.

단순히 “로그인 성공”을 증명하는 토큰.

👉 즉, 인가 코드는 Access Token을 교환하기 위한 티켓

Access Token
--
✅ Access Token

역할: 실제로 카카오 API를 호출할 수 있는 권한 증명서.

특징

유효기간이 짧음 (예: 6시간).

이 토큰을 카카오에 보내야 “사용자 정보 주세요” 같은 요청 가능.

노출되면 위험함 → 다른 사람이 이걸 가지면 내 정보에 접근 가능.

👉 Access Token = 카카오 리소스 서버(API)에 접근할 수 있는 “열쇠”

Refresh Token
--
✅ Refresh Token

역할: Access Token이 만료되었을 때 새로운 Access Token을 발급받기 위한 토큰.

특징

유효기간이 김 (예: 2개월).

클라이언트는 보통 직접 쓰지 않고, 백엔드에서만 안전하게 보관.

Access Token이 짧게 만료되더라도, 다시 로그인 안 하고 Refresh Token으로 새 Access Token 발급 가능.

👉 Refresh Token = 열쇠를 새로 발급받을 수 있는 “리필권”



