중급 문법(+ 프로젝션)
==
> 출처 : 김영한의 [실전! Querydsl](https://www.inflearn.com/course/querydsl-실전/dashboard)

프로젝션
--
뜻 : select 대상 지정

- 프로젝션 대상이 하나 -> String

- 둘 이상 -> Tuple (Repository에서만 사용하기) - QueryDsl을 의존하므로

프로젝션 DTO 조회
--
JPQL은 Dto를 조회하기 위해서 해당 파일의 package이름을 다 적어줘야한다.

Querydsl의 해결 방법 3가지
- 프로퍼티 접근(Projections.bean)
- 필드 직접 접근(fields)
- 생성자 사용(constructor)

프로퍼티와, 필드는 필드명을 비교해서

생성자는 타입을 비교하여 값을 넣어준다.

- 별칭이 다를 때, 프로터피와 필드 직접 접근은 필드명이 달라지므로 문제가 된다. 따라서 as 사용, 만일 아예 다른 값들을 사용하고 싶다면 서브 쿼리를 넣어도 된다.

- 그러나 별칭이 달라서 생성자일 경우 타입으로 비교하기 때문에 따로 as를 사용할 필요가 없다.

- 단, 생성자 사용일 경우 없는 필드명을 넣었을 때 오류가 발생하는데, 이 오류가 런타임에 발생하게 된다. 이를 컴파일 시점에 확인하기 위해서는 @QueryProjection을 사용하여 DTO 자체를 QClass를 만들고 해당 Q클래스를 통해 Projections를 사용하지 않고도 DTO를 조회할 수 있다.

- 단, 장단점이 존재하는데 @QueryProjection을 사용할 경우 Dto가 Querydsl에 의존하게 된다.

Dto 조회 결론
--
Dto를 깔끔히 유지하고 싶다 -> 프로퍼티, 필드, 생성자
Querydsl을 의존해도 괜찮다 -> @QueryProjection 사용

동적 쿼리 해결 방식
--
1. BooleanBuilder
- BooleanBuilder에 and 또는 or로 넣어주기
2. Where 다중 파라미터 사용
- where 안에 모두 넣기

where가 가독성과 편의성면에서 더 좋다.